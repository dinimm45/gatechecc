const _0x545bdc = _0x2cde;
function _0x5bd1() {
  const _0x57a917 = [
    "1:995789907234:web:54edcc689b1c894594717b",
    "https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyD-e_171y9kifCgevAMRElGKnHghxzdM7A",
    "loading",
    "rangeValue",
    "data",
    "eventDate",
    "\x20Tickets\x20have\x20been\x20made.\x20Find\x20your\x20tickets\x20by\x20writing\x20your\x20number\x20on\x20my\x20invitations\x20page",
    "totalBytes",
    "name",
    "15770KizYUv",
    "random",
    "serverTimestamp",
    "eventsdb-b6aaf.appspot.com",
    "uniqueCodes",
    "download",
    "Payment\x20was\x20not\x20successful:",
    "Please\x20Select\x20the\x20event\x20date.",
    "initializeApp",
    "firestore",
    "toFixed",
    "collection",
    "blue",
    "createElement",
    "AIzaSyD-e_171y9kifCgevAMRElGKnHghxzdM7A",
    "createObjectURL",
    "5942573CkuhbN",
    "1668184DTYSvV",
    "uploadImage",
    "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",
    "catch",
    "render",
    "76290XIuYCz",
    "canvas",
    "storage",
    "add",
    "isButtonDisabled",
    "generateRandomString",
    "onerror",
    "phoneNumber",
    "src",
    "Error\x20resizing\x20image:",
    "getElementById",
    "17459248faJsYC",
    "getContext",
    "height",
    "129GRhhuR",
    "onload",
    "target",
    "FieldValue",
    "querySelector",
    "code",
    ".card-preview",
    "images/",
    "You\x20have\x20to\x20choose\x20a\x20minimum\x20of\x2010\x20tickets.",
    "\x27;\x20color:\x20",
    "min",
    "click",
    "contain",
    "CorrectLevel",
    "font-family:\x20\x27",
    "calculateCost",
    "uploadProgress",
    "Error\x20adding\x20document:\x20",
    "Arial",
    "map",
    "put",
    "no-repeat",
    "rect",
    "then",
    "state_changed",
    "snapshot",
    "width",
    "ref",
    "files",
    "bytesTransferred",
    "Buttons",
    "#000",
    "Error\x20getting\x20documents:\x20",
    "vol",
    "family",
    "269768qPCHhL",
    "floor",
    "3627042tdYnzw",
    "toDataURL",
    "codes",
    "log",
    "order",
    "selectedImage",
    "href",
    "child",
    "Please\x20enter\x20phone\x20number.",
    "qrtextFont",
    "capture",
    "card.png",
    "getDownloadURL",
    "addEventListener",
    "push",
    "get",
  ];
  _0x5bd1 = function () {
    return _0x57a917;
  };
  return _0x5bd1();
}
function _0x2cde(_0x446949, _0x10199f) {
  const _0x5bd172 = _0x5bd1();
  return (
    (_0x2cde = function (_0x2cde94, _0x20b017) {
      _0x2cde94 = _0x2cde94 - 0x17d;
      let _0x3a8864 = _0x5bd172[_0x2cde94];
      return _0x3a8864;
    }),
    _0x2cde(_0x446949, _0x10199f)
  );
}
(function (_0x2feea5, _0x4cdfce) {
  const _0x5e1b90 = _0x2cde,
    _0x2e3bcb = _0x2feea5();
  while (!![]) {
    try {
      const _0x436373 =
        -parseInt(_0x5e1b90(0x1a9)) / 0x1 +
        (-parseInt(_0x5e1b90(0x1c4)) / 0x2) *
          (parseInt(_0x5e1b90(0x186)) / 0x3) +
        parseInt(_0x5e1b90(0x1d5)) / 0x4 +
        -parseInt(_0x5e1b90(0x1da)) / 0x5 +
        -parseInt(_0x5e1b90(0x1ab)) / 0x6 +
        -parseInt(_0x5e1b90(0x1d4)) / 0x7 +
        parseInt(_0x5e1b90(0x183)) / 0x8;
      if (_0x436373 === _0x4cdfce) break;
      else _0x2e3bcb["push"](_0x2e3bcb["shift"]());
    } catch (_0x1166fe) {
      _0x2e3bcb["push"](_0x2e3bcb["shift"]());
    }
  }
})(_0x5bd1, 0x7f6c5);
function resizeImage(_0x5bf799, _0x5373e3, _0x3aa883) {
  return new Promise((_0x4b41c0, _0x514118) => {
    const _0x24443b = _0x2cde;
    let _0x428083 = new Image();
    (_0x428083[_0x24443b(0x187)] = function () {
      const _0x594225 = _0x24443b;
      let _0x2d5009 = document[_0x594225(0x1d1)](_0x594225(0x1db)),
        _0x46a016 = _0x2d5009[_0x594225(0x184)]("2d"),
        _0x59eaa0 = Math[_0x594225(0x190)](
          _0x5373e3 / _0x428083[_0x594225(0x1a0)],
          _0x3aa883 / _0x428083[_0x594225(0x185)]
        );
      (_0x2d5009[_0x594225(0x1a0)] = _0x428083[_0x594225(0x1a0)] * _0x59eaa0),
        (_0x2d5009[_0x594225(0x185)] = _0x428083["height"] * _0x59eaa0),
        _0x46a016["drawImage"](
          _0x428083,
          0x0,
          0x0,
          _0x2d5009[_0x594225(0x1a0)],
          _0x2d5009["height"]
        ),
        _0x4b41c0(_0x2d5009[_0x594225(0x1ac)]());
    }),
      (_0x428083[_0x24443b(0x17e)] = function (_0x366467) {
        _0x514118(_0x366467);
      }),
      (_0x428083[_0x24443b(0x180)] = URL[_0x24443b(0x1d3)](_0x5bf799));
  });
}
document[_0x545bdc(0x182)](_0x545bdc(0x1c9))[_0x545bdc(0x1b8)](
  _0x545bdc(0x191),
  function () {
    const _0xb9e682 = _0x545bdc;
    html2canvas(document[_0xb9e682(0x18a)](_0xb9e682(0x18c)), {
      logging: !![],
    })[_0xb9e682(0x19d)](function (_0x4807b6) {
      const _0x324e2b = _0xb9e682;
      var _0x4af728 = document[_0x324e2b(0x1d1)]("a");
      (_0x4af728[_0x324e2b(0x1b1)] = _0x4807b6[_0x324e2b(0x1ac)]("image/png")),
        (_0x4af728[_0x324e2b(0x1c9)] = _0x324e2b(0x1b6)),
        _0x4af728[_0x324e2b(0x191)]();
    });
  }
),
  new Vue({
    el: "#app",
    data: {
      image: "",
      selectedImage: "",
      qrtextFont: _0x545bdc(0x198),
      qrtextColor: _0x545bdc(0x1a5),
      qrtext: "",
      uploadProgress: 0x0,
      phoneNumber: "",
      uniqueCodes: [],
      firebaseInitialized: ![],
      db: null,
      storage: null,
      loading: ![],
      currentQRCode: null,
      isButtonDisabled: ![],
      rangeValue: 0x0,
      buttonClicked: ![],
      ticketsCount: 0x0,
      eventDate: "",
    },
    created: function () {
      const _0x489afe = _0x545bdc,
        _0x25cbcf = {
          apiKey: _0x489afe(0x1d2),
          authDomain: "eventsdb-b6aaf.firebaseapp.com",
          projectId: "eventsdb-b6aaf",
          storageBucket: _0x489afe(0x1c7),
          messagingSenderId: "995789907234",
          appId: _0x489afe(0x1bb),
          measurementId: "G-J0DC7YW8J4",
        },
        _0x5206af = firebase[_0x489afe(0x1cc)](_0x25cbcf),
        _0x4084c3 = firebase["firestore"](_0x5206af),
        _0x396f67 = firebase[_0x489afe(0x1dc)](_0x5206af);
      (this["db"] = _0x4084c3),
        (this["storage"] = _0x396f67),
        (this["firebaseInitialized"] = !![]),
        axios["get"](_0x489afe(0x1bc))[_0x489afe(0x19d)]((_0x1f5227) => {
          const _0x4cc219 = _0x489afe;
          this["fonts"] = _0x1f5227[_0x4cc219(0x1bf)]["items"][
            _0x4cc219(0x199)
          ]((_0x31641b) => _0x31641b[_0x4cc219(0x1a8)]);
        });
    },
    methods: {
      calculateCost() {
        const _0x2e01b2 = _0x545bdc;
        return parseFloat(
          ((this[_0x2e01b2(0x1be)] / 0xc8) * 0x64)[_0x2e01b2(0x1ce)](0x2)
        );
      },
      handleFileUpload(_0x3bb9cd) {
        const _0xd627b1 = _0x545bdc,
          _0x498d87 = _0x3bb9cd[_0xd627b1(0x188)][_0xd627b1(0x1a2)][0x0];
        resizeImage(_0x498d87, 0x3e8, 0x3e8)
          [_0xd627b1(0x19d)]((_0x2be230) => {
            const _0x322c86 = _0xd627b1;
            (this["selectedImage"] = _0x2be230),
              this[_0x322c86(0x1d6)](_0x498d87)["then"]((_0x107d53) => {
                const _0x294bfa = _0x322c86;
                this[_0x294bfa(0x1b0)] = _0x107d53;
              });
          })
          [_0xd627b1(0x1d8)]((_0x4e4288) => {
            const _0x2b60b1 = _0xd627b1;
            console[_0x2b60b1(0x1ae)](_0x2b60b1(0x181), _0x4e4288);
          });
      },
      uploadImage(_0x15f9ee) {
        const _0x4cae60 = _0x545bdc,
          _0x12c3eb = this[_0x4cae60(0x1dc)][_0x4cae60(0x1a1)](),
          _0x189b6b = _0x12c3eb[_0x4cae60(0x1b2)](
            _0x4cae60(0x18d) + _0x15f9ee[_0x4cae60(0x1c3)]
          ),
          _0x5dd073 = _0x189b6b[_0x4cae60(0x19a)](_0x15f9ee);
        return (
          (this[_0x4cae60(0x1bd)] = !![]),
          new Promise((_0x59f47f, _0x1ac83a) => {
            const _0xd42ffb = _0x4cae60;
            _0x5dd073["on"](
              _0xd42ffb(0x19e),
              (_0x5429f0) => {
                const _0xb0f338 = _0xd42ffb;
                this[_0xb0f338(0x196)] =
                  (_0x5429f0[_0xb0f338(0x1a3)] / _0x5429f0[_0xb0f338(0x1c2)]) *
                  0x64;
              },
              (_0x4a72c5) => {
                console["log"](_0x4a72c5), _0x1ac83a(_0x4a72c5);
              },
              () => {
                const _0x21c682 = _0xd42ffb;
                _0x5dd073[_0x21c682(0x19f)][_0x21c682(0x1a1)]
                  [_0x21c682(0x1b7)]()
                  [_0x21c682(0x19d)]((_0x39d919) => {
                    (this["loading"] = ![]), _0x59f47f(_0x39d919);
                  });
              }
            );
          })
        );
      },
      generateRandomString(_0x372bc1) {
        const _0x4c0a1d = _0x545bdc,
          _0x2d2b17 = _0x4c0a1d(0x1d7);
        let _0x90598a = "";
        for (let _0x1a75c5 = 0x0; _0x1a75c5 < _0x372bc1; _0x1a75c5++) {
          _0x90598a += _0x2d2b17["charAt"](
            Math[_0x4c0a1d(0x1aa)](
              Math[_0x4c0a1d(0x1c5)]() * _0x2d2b17["length"]
            )
          );
        }
        return _0x90598a;
      },
      generateQRCode() {
        const _0x4b6ed1 = _0x545bdc;
        if (this[_0x4b6ed1(0x17f)] === "") {
          alert(_0x4b6ed1(0x1b3));
          return;
        }
        if (this["eventDate"] === "") {
          alert(_0x4b6ed1(0x1cb));
          return;
        }
        if (!this[_0x4b6ed1(0x1b0)]) {
          alert("Design\x20is\x20not\x20uploaded");
          return;
        }
        if (this["rangeValue"] < 0xa) {
          alert(_0x4b6ed1(0x18e));
          return;
        }
        (this["buttonClicked"] = !![]),
          paypal[_0x4b6ed1(0x1a4)]({
            createOrder: (_0x2cb3fe, _0x4911a7) => {
              const _0x1a50e7 = _0x4b6ed1;
              let _0x3a1e72 = this[_0x1a50e7(0x195)]();
              return _0x4911a7[_0x1a50e7(0x1af)]["create"]({
                purchase_units: [{ amount: { value: _0x3a1e72 } }],
              });
            },
            style: {
              label: "checkout",
              color: _0x4b6ed1(0x1d0),
              shape: _0x4b6ed1(0x19c),
              tagline: ![],
            },
            onApprove: (_0x7c245e, _0x435644) => {
              const _0xfc60f8 = _0x4b6ed1;
              return _0x435644[_0xfc60f8(0x1af)]
                [_0xfc60f8(0x1b5)]()
                [_0xfc60f8(0x19d)]((_0x3a34a9) => {
                  const _0x22a95e = _0xfc60f8;
                  (this[_0x22a95e(0x1de)] = !![]),
                    setTimeout(() => {
                      const _0x75f4ee = _0x22a95e;
                      this[_0x75f4ee(0x1de)] = ![];
                    }, 0xbb8);
                  let _0x593885 = Number(
                    document[_0x22a95e(0x182)](_0x22a95e(0x1a7))["value"]
                  );
                  alert(_0x593885 + _0x22a95e(0x1c1)),
                    confetti({
                      particleCount: 0x64,
                      startVelocity: 0x1e,
                      spread: 0x168,
                      origin: { y: 0.6 },
                    }),
                    (this["uniqueCodes"] = []);
                  for (
                    let _0x1009f9 = 0x0;
                    _0x1009f9 < _0x593885;
                    _0x1009f9++
                  ) {
                    const _0x4828cb = this[_0x22a95e(0x17d)](0xa);
                    this[_0x22a95e(0x1c8)][_0x22a95e(0x1b9)](_0x4828cb),
                      this["db"]
                        [_0x22a95e(0x1cf)](_0x22a95e(0x1ad))
                        [_0x22a95e(0x1dd)]({
                          code: _0x4828cb,
                          phoneNumber: this[_0x22a95e(0x17f)],
                          image: this[_0x22a95e(0x1b0)],
                          eventDate: new Date(this[_0x22a95e(0x1c0)]),
                          createdAt:
                            firebase[_0x22a95e(0x1cd)][_0x22a95e(0x189)][
                              _0x22a95e(0x1c6)
                            ](),
                        })
                        ["then"]((_0x3db27a) => {
                          const _0x21f700 = _0x22a95e;
                          console[_0x21f700(0x1ae)](
                            "Document\x20written\x20with\x20ID:\x20",
                            _0x3db27a["id"]
                          );
                        })
                        ["catch"]((_0x22badd) => {
                          const _0x54f488 = _0x22a95e;
                          console["error"](_0x54f488(0x197), _0x22badd);
                        });
                  }
                  this["currentQRCode"] = this[_0x22a95e(0x1c8)][0x0];
                  let _0x1abbc8 = new QRCode(
                    document[_0x22a95e(0x182)]("qrcode"),
                    {
                      text: this["currentQRCode"],
                      width: 0x46,
                      height: 0x46,
                      colorDark: "#000000",
                      colorLight: "#ffffff",
                      correctLevel: QRCode[_0x22a95e(0x193)]["H"],
                    }
                  );
                })
                ["catch"]((_0xc01b2e) => {
                  const _0x127167 = _0xfc60f8;
                  console["error"](_0x127167(0x1ca), _0xc01b2e);
                });
            },
          })[_0x4b6ed1(0x1d9)]("#paypal-button");
      },
    },
    computed: {
      cardStyle() {
        const _0x32992a = _0x545bdc;
        return this[_0x32992a(0x1b0)]
          ? {
              "background-image": "url(" + this[_0x32992a(0x1b0)] + ")",
              "background-repeat": _0x32992a(0x19b),
              "background-position": "center\x20center",
              "background-size": _0x32992a(0x192),
            }
          : {};
      },
      qrtextStyle() {
        const _0x4e82ee = _0x545bdc;
        return (
          _0x4e82ee(0x194) +
          this[_0x4e82ee(0x1b4)] +
          _0x4e82ee(0x18f) +
          this["qrtextColor"] +
          ";"
        );
      },
    },
    watch: {
      phoneNumber(_0x55d67c) {
        const _0x45c9e5 = _0x545bdc;
        _0x55d67c !== ""
          ? this["db"]
              [_0x45c9e5(0x1cf)](_0x45c9e5(0x1ad))
              ["where"](_0x45c9e5(0x17f), "==", _0x55d67c)
              [_0x45c9e5(0x1ba)]()
              [_0x45c9e5(0x19d)]((_0x607a89) => {
                const _0xd7cbb = _0x45c9e5;
                this["uniqueCodes"] = _0x607a89["docs"][_0xd7cbb(0x199)](
                  (_0x30d892) => _0x30d892[_0xd7cbb(0x1bf)]()[_0xd7cbb(0x18b)]
                );
              })
              [_0x45c9e5(0x1d8)]((_0x4d8546) => {
                const _0x8579a5 = _0x45c9e5;
                console[_0x8579a5(0x1ae)](_0x8579a5(0x1a6), _0x4d8546);
              })
          : (this[_0x45c9e5(0x1c8)] = []);
      },
    },
  });
